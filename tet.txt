cd /app/report

for ym in $(ls -l --time-style=+%Y-%m | awk '{print $6}' | grep -v '^2025-' | sort -u); do
    find . -maxdepth 1 -type f -newermt "${ym}-01" ! -newermt "$(date -d "${ym}-01 +1 month" +%Y-%m-%d)" \
        -print | zip "/app/${ym}.zip" -@
    find . -maxdepth 1 -type f -newermt "${ym}-01" ! -newermt "$(date -d "${ym}-01 +1 month" +%Y-%m-%d)" \
        -delete
done
